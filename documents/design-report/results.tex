\chapter{Results}

\section{Pre processing Input Images}
Our initial plan was to use a geometric based and appearance based approach to pre process the input images before doing the shape modeling step. The geometric based approach involves doing edge detection on the image, which can highlight the contours of the lips better for easier detection. The appearance based approach involves doing color segmentation on the image which can separate the lips from the rest of the face due to their different color. 

After trying these approaches, we found that they are not viable methods of enhancement. The edge detection alone did not slow down the program noticeably (it only added 10 milliseconds of processing time per frame) but it made detection much worse. The shape modeling algorithm could not find landmarks on the input image after an edge detection filter was applied to it. The color segmentation filter did not worsen the shape modeling algorithm like edge detection did, but it also did not noticeably improve shape modeling either. Also, as a downside, doing color segmentation alone takes a noticeable amount of time (40 milliseconds per frame), so it slowed down the program considerably. And finally, combining the edge detection with color segmentation simply resulted in having both of their negative effects. As a result, we have decided that have no pre-processing step is the best choice for this application.

\section{GPU-Complications}

Wa encountered a number of complications when attempting to convert our CPU code into a GPU implementation. The first difficulty is that transferring image data between the CPU and GPU is a fairly expensive procedure. When we first got the code running on the GPU it was running at less than one frame per second because it took so long to transfer images.

Another complication we encountered is that the CPU and GPU implementations of some functions in OpenCV sometimes actually differ in what they are capable of doing.The matchTemplate function which is used in the lip-tracking code is one such function that does not have the same optimizations on the GPU as it does on the CPU. 
